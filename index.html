
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Controls test</title>
    <link rel="stylesheet" type="text/css" href="tests.css" />
    <link rel="stylesheet" type="text/css" href="monocore.css" />
    <link rel="stylesheet" type="text/css" href="monoctrl.css" />
    <style type="text/css">
    body,html {height: 100%;min-height: 100%;}
      .reader {
        position: relative;
        width: 100%;
        height: 100%;
        border: 1px solid #000;
        background-color: #CCC;
      }
      #part1, #part2 {
        display: none;
      }
      .runner {
        font-variant: small-caps;
        font-size: 87%;
        color: #900;
      }
      .bookTitle {
        position: absolute;
        top: 1%;
        width: 100%;
        text-align: center;
        cursor: pointer;
      }
    </style>

    <script src="monocore.js"></script>
    <script src="monoctrl.js"></script>
    <script type="text/javascript">
      Monocle.DEBUG = true;

      var bookData = {
        getComponents: function () {
          return [
            'part1',
            'part2'
          ];
        },
        getContents: function () {
          return [
            {
              title: "I",
              src: 'part1'
            },
            {
              title: "II",
              src: 'part2'
            }
          ]
        },
        getComponent: function (cmptId) {
          return { nodes: [document.getElementById(cmptId).cloneNode(true)] };
        },
        getMetaData: function(key) {
          return {
            title: "Lorem Ipsum",
            creator: "Mr Monocle"
          }[key];
        }
      }


      function createBookTitle(reader, contactListeners) {
        var bt = {}
        bt.createControlElements = function () {
          cntr = document.createElement('div');
          cntr.className = "bookTitle";
          runner = document.createElement('div');
          runner.className = "runner";
          runner.innerHTML = reader.getBook().getMetaData('title');
          cntr.appendChild(runner);
          if (contactListeners) {
            Monocle.Events.listenForContact(cntr, contactListeners);
          }
          return cntr;
        }
        reader.addControl(bt, 'page');
        return bt;
      }

      // Initialize the reader element.
      Monocle.Events.listen(
        window,
        'load',
        function () {
          var readerOptions = {
            panels: Monocle.Panels.Magic
          };


          Monocle.Reader('toc', bookData, readerOptions, function (rdr) {
            window.reader5 = rdr;
            var toc = Monocle.Controls.Contents(rdr);
            rdr.addControl(toc, 'popover', { hidden: true });
            createBookTitle(
              rdr,
              {
                start: function () {
                  rdr.showControl(toc);
                }
              }
            );
          });
        }
      );
    </script>

  </head>

  <body>
<div class="reader" id="toc"></div>


<div id="part1">
      <img src="dergi/sayi8/0/images/1.jpg"/>
      <img src="dergi/sayi8/0/images/2.jpg"/>
      <img src="dergi/sayi8/0/images/3.jpg"/>
</div>

<div id="part2">
        <img src="dergi/sayi8/0/images/4.jpg"/>
      <img src="dergi/sayi8/0/images/5.jpg"/>
      <img src="dergi/sayi8/0/images/6.jpg"/>
      <img src="dergi/sayi8/0/images/7.jpg"/>
</div>


</body>
</html>
